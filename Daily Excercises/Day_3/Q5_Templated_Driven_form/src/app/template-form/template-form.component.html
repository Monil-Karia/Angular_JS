<form #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)">

  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" [(ngModel)]="email" required email />
    <div *ngIf="signupForm.controls['email']?.invalid && (signupForm.controls['email']?.touched || signupForm.submitted)">
      <small *ngIf="signupForm.controls['email']?.errors?.['required']">Email is required.</small>
      <small *ngIf="signupForm.controls['email']?.errors?.['email']">Invalid email format.</small>
    </div>
  </div>

  <div>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" [(ngModel)]="password" required minlength="8" />
    <div *ngIf="signupForm.controls['password']?.invalid && (signupForm.controls['password']?.touched || signupForm.submitted)">
      <small *ngIf="signupForm.controls['password']?.errors?.['required']">Password is required.</small>
      <small *ngIf="signupForm.controls['password']?.errors?.['minlength']">Password must be at least 8 characters long.</small>
    </div>
  </div>

  <div>
    <label for="confirmPassword">Confirm Password:</label>
    <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword" required />
    <div *ngIf="(password && confirmPassword) && (password !== confirmPassword) && (signupForm.controls['confirmPassword']?.touched || signupForm.submitted)">
      <small>Passwords must match.</small>
    </div>
  </div>

  <div>
    <label for="gender">Gender:</label>
    <select id="gender" name="gender" [(ngModel)]="gender" required>
      <option value="">Select...</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <div *ngIf="signupForm.controls['gender']?.invalid && (signupForm.controls['gender']?.touched || signupForm.submitted)">
      <small>Gender is required.</small>
    </div>
  </div>

  <div>
    <label>
      <input type="checkbox" name="terms" [(ngModel)]="terms" required />
      I have read and agree to the terms and conditions
    </label>
    <div *ngIf="signupForm.controls['terms']?.invalid && (signupForm.controls['terms']?.touched || signupForm.submitted)">
      <small>You must accept the terms and conditions.</small>
    </div>
  </div>

  <button type="submit" [disabled]="signupForm.invalid">Submit</button>
</form>
<div *ngIf="jsonData">
  <h2>Submitted Data:</h2>
  <pre>{{ jsonData }}</pre>
</div>
